{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/app/controllers/director.ts","js/app/modules/main.ts","js/app/modules/player.ts"],"names":[],"mappings":"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","file":"build.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import {Game} from '../modules/main'\n\nlet ticArea = new Game();","import {Player} from \"./player\";\n\nexport class Game {\n    players:Player[];\n    places:any;\n    step:number;\n    currentPlayer:Player;\n    board:any;\n    game:number;\n    constructor(){\n        this.places = document.querySelectorAll('td');\n        this.players = [];\n        this.step = 0;\n        this.game = 1;\n        this.board = [\n            [null,null,null],\n            [null,null,null],\n            [null,null,null]\n        ];\n        this.players[0] = new Player('Player 1');\n        this.players[1] = new Player('Player 2');\n        this.start();\n        this.listenEvens();\n    }\n    start(){\n        if (localStorage.getItem('game')) {\n            this.game = JSON.parse(localStorage.getItem('game'));\n            this.players[0].wins = JSON.parse(localStorage.getItem('players0'));\n            this.players[1].wins = JSON.parse(localStorage.getItem('players1'));\n        }\n        this.players[0].setConrols(37,38,39,40,57);\n        this.players[1].setConrols(65,87,68,83,90);\n        let random:boolean = Math.random() >= 0.5;\n        if(random){\n            this.players[0].setSymbol('X');\n            this.players[1].setSymbol('O');\n            this.players[0].motion = true;\n        }else{\n            this.players[1].setSymbol('X');\n            this.players[0].setSymbol('O');\n            this.players[1].motion = true;\n        }\n        this.getPlayers();\n        this.render();\n    }\n    render(){\n        let games:any = document.querySelector('.game');\n        games.innerText = `Game ${this.game}`;\n        let plFigOne:any = document.querySelector('.player-one-figure');\n        plFigOne.innerText = this.players[0].symb;\n        let plFigTwo:any = document.querySelector('.player-two-figure');\n        plFigTwo.innerText = this.players[1].symb;\n        let plWinOne:any = document.querySelector('.player-one-wins');\n        plWinOne.innerText = `${this.players[0].wins} won`;\n        let plWinTwo:any = document.querySelector('.player-two-wins');\n        plWinTwo.innerText = `${this.players[1].wins} won`;\n    }\n    getPlayers(){\n        if (this.players[0].motion) {\n            this.currentPlayer = this.players[0];\n        } else {\n            this.currentPlayer = this.players[1];\n        }\n        this.players[0].motion = !this.players[0].motion;\n        this.players[1].motion = !this.players[1].motion;\n    }\n    reset(){\n        this.game +=1;\n        localStorage.setItem('players0', JSON.stringify(this.players[0].wins));\n        localStorage.setItem('players1', JSON.stringify(this.players[1].wins));\n        localStorage.setItem('game', JSON.stringify(this.game));\n        location.reload();\n    }\n    course(e:any){\n        let el = e.target;\n        let indexPlace : number = +el.getAttribute('data-place');\n        let newIndexPlace : number = 0;\n        if (e.keyCode === this.currentPlayer.controls.left) {\n            newIndexPlace = indexPlace - 1;\n        } else if (e.keyCode === this.currentPlayer.controls.up) {\n            newIndexPlace = indexPlace - 3;\n        } else if (e.keyCode === this.currentPlayer.controls.right) {\n            newIndexPlace = indexPlace + 1;//right\n        } else if (e.keyCode === this.currentPlayer.controls.down) {\n            newIndexPlace = indexPlace + 3;\n        }\n        this.places[newIndexPlace] && this.places[newIndexPlace].focus();\n        if (e.keyCode === this.currentPlayer.controls.select) {\n            if(e.target.innerText == \"\"){\n                e.target.innerText = this.currentPlayer.symb;\n                this.step +=1;\n                let cell = $(el).attr(\"class\");\n                let row = parseInt(cell[0]);\n                let col = parseInt(cell[1]);\n                this.board[row][col] = this.currentPlayer.symb;\n                this.newWins(row,col,this.currentPlayer);\n                this.getPlayers();\n            }\n        }\n    }\n\n    newWins(x:number,y:number, pl:Player){\n        const row = [];\n        for (let i = 0; i < 3; i++) {\n            if (this.board[x][i] !== pl.symb)\n                break;\n            row.push(`${x}${i}`);\n            if (i == 2) {\n                this.showWin(row);\n                pl.wins +=1;\n            }\n        }\n        const cell = [];\n        for (let i = 0; i < 3; i++) {\n            if (this.board[i][y] !== pl.symb)\n                break;\n            cell.push(`${i}${y}`);\n            if (i == 2) {\n                this.showWin(cell);\n                pl.wins +=1;\n            }\n        }\n        const diagonal = [];\n        if (x == y) {\n            for (let i = 0; i < 3; i++) {\n                if (this.board[i][i] !== pl.symb)\n                    break;\n                diagonal.push(`${i}${i}`);\n                if (i == 2) {\n                    this.showWin(diagonal);\n                    pl.wins +=1;\n                }\n            }\n        }\n        const antiDiagonal = [];\n        for (let i = 0; i < 3; i++) {\n            if (this.board[i][2 - i] !== pl.symb)\n                break;\n            antiDiagonal.push(`${i}${2-i}`);\n            if (i == 2) {\n                this.showWin(antiDiagonal);\n                pl.wins +=1;\n            }\n        }\n        if (this.step === 9) {\n            this.reset();\n        }\n    }\n    showWin(elements:any) {\n        for(let i = 0;i<3;i++){\n            console.log(elements[i]);\n            for(let j = 0;j<9;j++){\n                console.log(this.places[j]);\n                if(this.places[j].getAttribute(\"class\") == elements[i]){\n                    this.places[j].setAttribute('class','win');\n\n                }\n            }\n        }\n        setTimeout(()=>this.reset(),1000)\n    }\n    listenEvens(){\n        document.addEventListener('keyup',this.course.bind(this));\n    }\n\n}","export class Player {\n    name:string;\n    symb:string;\n    wins:number;\n    motion:boolean;\n    controls:any;\n    constructor(name:string){\n        this.name = name;\n        this.wins = 0;\n        this.symb = \"\" ;\n        this.motion = false;\n        this.controls = [];\n    }\n    setSymbol(symb:string) {\n        this.symb = symb;\n    }\n    setConrols(left:number,up:number,right:number,down:number,select:number){\n        this.controls = {\n            left,\n            up,\n            right,\n            down,\n            select\n        };\n    }\n\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9hcHAvY29udHJvbGxlcnMvZGlyZWN0b3IudHMiLCJqcy9hcHAvbW9kdWxlcy9tYWluLnRzIiwianMvYXBwL21vZHVsZXMvcGxheWVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBLHdDQUFvQztBQUVwQyxJQUFJLE9BQU8sR0FBRyxJQUFJLFdBQUksRUFBRSxDQUFDOzs7O0FDRnpCLG1DQUFnQztBQUVoQztJQU9JO1FBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7UUFDZCxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxLQUFLLEdBQUc7WUFDVCxDQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxDQUFDO1lBQ2hCLENBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLENBQUM7WUFDaEIsQ0FBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksQ0FBQztTQUNuQixDQUFDO1FBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLGVBQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksZUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBQ0Qsb0JBQUssR0FBTDtRQUNJLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9CLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDckQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDcEUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDeEUsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQztRQUMzQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxDQUFDLENBQUM7UUFDM0MsSUFBSSxNQUFNLEdBQVcsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLEdBQUcsQ0FBQztRQUMxQyxFQUFFLENBQUEsQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDO1lBQ1AsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLENBQUM7UUFBQSxJQUFJLENBQUEsQ0FBQztZQUNGLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQy9C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QUM7SUFDRCwyQkFBVSxHQUFWLFVBQVcsSUFBVyxFQUFDLEVBQVMsRUFBQyxLQUFZLEVBQUMsSUFBVyxFQUFDLE1BQWE7UUFDbkUsSUFBSSxDQUFDLFFBQVEsR0FBRztZQUNaLElBQUksTUFBQTtZQUNKLEVBQUUsSUFBQTtZQUNGLEtBQUssT0FBQTtZQUNMLElBQUksTUFBQTtZQUNKLE1BQU0sUUFBQTtTQUNULENBQUM7SUFDTixDQUFDO0lBRUwsYUFBQztBQUFELENBMUJBLEFBMEJDLElBQUE7QUExQlksd0JBQU0iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IHtHYW1lfSBmcm9tICcuLi9tb2R1bGVzL21haW4nXG5cbmxldCB0aWNBcmVhID0gbmV3IEdhbWUoKTsiLCJpbXBvcnQge1BsYXllcn0gZnJvbSBcIi4vcGxheWVyXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lIHtcbiAgICBwbGF5ZXJzOlBsYXllcltdO1xuICAgIHBsYWNlczphbnk7XG4gICAgc3RlcDpudW1iZXI7XG4gICAgY3VycmVudFBsYXllcjpQbGF5ZXI7XG4gICAgYm9hcmQ6YW55O1xuICAgIGdhbWU6bnVtYmVyO1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMucGxhY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndGQnKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gW107XG4gICAgICAgIHRoaXMuc3RlcCA9IDA7XG4gICAgICAgIHRoaXMuZ2FtZSA9IDE7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBbXG4gICAgICAgICAgICBbbnVsbCxudWxsLG51bGxdLFxuICAgICAgICAgICAgW251bGwsbnVsbCxudWxsXSxcbiAgICAgICAgICAgIFtudWxsLG51bGwsbnVsbF1cbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5wbGF5ZXJzWzBdID0gbmV3IFBsYXllcignUGxheWVyIDEnKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJzWzFdID0gbmV3IFBsYXllcignUGxheWVyIDInKTtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB0aGlzLmxpc3RlbkV2ZW5zKCk7XG4gICAgfVxuICAgIHN0YXJ0KCl7XG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FtZScpKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lJykpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzBdLndpbnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwbGF5ZXJzMCcpKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyc1sxXS53aW5zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGxheWVyczEnKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGF5ZXJzWzBdLnNldENvbnJvbHMoMzcsMzgsMzksNDAsNTcpO1xuICAgICAgICB0aGlzLnBsYXllcnNbMV0uc2V0Q29ucm9scyg2NSw4Nyw2OCw4Myw5MCk7XG4gICAgICAgIGxldCByYW5kb206Ym9vbGVhbiA9IE1hdGgucmFuZG9tKCkgPj0gMC41O1xuICAgICAgICBpZihyYW5kb20pe1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzBdLnNldFN5bWJvbCgnWCcpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzFdLnNldFN5bWJvbCgnTycpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzBdLm1vdGlvbiA9IHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzFdLnNldFN5bWJvbCgnWCcpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzBdLnNldFN5bWJvbCgnTycpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzFdLm1vdGlvbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRQbGF5ZXJzKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICAgIHJlbmRlcigpe1xuICAgICAgICBsZXQgZ2FtZXM6YW55ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWUnKTtcbiAgICAgICAgZ2FtZXMuaW5uZXJUZXh0ID0gYEdhbWUgJHt0aGlzLmdhbWV9YDtcbiAgICAgICAgbGV0IHBsRmlnT25lOmFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItb25lLWZpZ3VyZScpO1xuICAgICAgICBwbEZpZ09uZS5pbm5lclRleHQgPSB0aGlzLnBsYXllcnNbMF0uc3ltYjtcbiAgICAgICAgbGV0IHBsRmlnVHdvOmFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItdHdvLWZpZ3VyZScpO1xuICAgICAgICBwbEZpZ1R3by5pbm5lclRleHQgPSB0aGlzLnBsYXllcnNbMV0uc3ltYjtcbiAgICAgICAgbGV0IHBsV2luT25lOmFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItb25lLXdpbnMnKTtcbiAgICAgICAgcGxXaW5PbmUuaW5uZXJUZXh0ID0gYCR7dGhpcy5wbGF5ZXJzWzBdLndpbnN9IHdvbmA7XG4gICAgICAgIGxldCBwbFdpblR3bzphbnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLXR3by13aW5zJyk7XG4gICAgICAgIHBsV2luVHdvLmlubmVyVGV4dCA9IGAke3RoaXMucGxheWVyc1sxXS53aW5zfSB3b25gO1xuICAgIH1cbiAgICBnZXRQbGF5ZXJzKCl7XG4gICAgICAgIGlmICh0aGlzLnBsYXllcnNbMF0ubW90aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSB0aGlzLnBsYXllcnNbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSB0aGlzLnBsYXllcnNbMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGF5ZXJzWzBdLm1vdGlvbiA9ICF0aGlzLnBsYXllcnNbMF0ubW90aW9uO1xuICAgICAgICB0aGlzLnBsYXllcnNbMV0ubW90aW9uID0gIXRoaXMucGxheWVyc1sxXS5tb3Rpb247XG4gICAgfVxuICAgIHJlc2V0KCl7XG4gICAgICAgIHRoaXMuZ2FtZSArPTE7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwbGF5ZXJzMCcsIEpTT04uc3RyaW5naWZ5KHRoaXMucGxheWVyc1swXS53aW5zKSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwbGF5ZXJzMScsIEpTT04uc3RyaW5naWZ5KHRoaXMucGxheWVyc1sxXS53aW5zKSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnYW1lJywgSlNPTi5zdHJpbmdpZnkodGhpcy5nYW1lKSk7XG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH1cbiAgICBjb3Vyc2UoZTphbnkpe1xuICAgICAgICBsZXQgZWwgPSBlLnRhcmdldDtcbiAgICAgICAgbGV0IGluZGV4UGxhY2UgOiBudW1iZXIgPSArZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBsYWNlJyk7XG4gICAgICAgIGxldCBuZXdJbmRleFBsYWNlIDogbnVtYmVyID0gMDtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5jdXJyZW50UGxheWVyLmNvbnRyb2xzLmxlZnQpIHtcbiAgICAgICAgICAgIG5ld0luZGV4UGxhY2UgPSBpbmRleFBsYWNlIC0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IHRoaXMuY3VycmVudFBsYXllci5jb250cm9scy51cCkge1xuICAgICAgICAgICAgbmV3SW5kZXhQbGFjZSA9IGluZGV4UGxhY2UgLSAzO1xuICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5jdXJyZW50UGxheWVyLmNvbnRyb2xzLnJpZ2h0KSB7XG4gICAgICAgICAgICBuZXdJbmRleFBsYWNlID0gaW5kZXhQbGFjZSArIDE7Ly9yaWdodFxuICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5jdXJyZW50UGxheWVyLmNvbnRyb2xzLmRvd24pIHtcbiAgICAgICAgICAgIG5ld0luZGV4UGxhY2UgPSBpbmRleFBsYWNlICsgMztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBsYWNlc1tuZXdJbmRleFBsYWNlXSAmJiB0aGlzLnBsYWNlc1tuZXdJbmRleFBsYWNlXS5mb2N1cygpO1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLmN1cnJlbnRQbGF5ZXIuY29udHJvbHMuc2VsZWN0KSB7XG4gICAgICAgICAgICBpZihlLnRhcmdldC5pbm5lclRleHQgPT0gXCJcIil7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQuaW5uZXJUZXh0ID0gdGhpcy5jdXJyZW50UGxheWVyLnN5bWI7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGVwICs9MTtcbiAgICAgICAgICAgICAgICBsZXQgY2VsbCA9ICQoZWwpLmF0dHIoXCJjbGFzc1wiKTtcbiAgICAgICAgICAgICAgICBsZXQgcm93ID0gcGFyc2VJbnQoY2VsbFswXSk7XG4gICAgICAgICAgICAgICAgbGV0IGNvbCA9IHBhcnNlSW50KGNlbGxbMV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbcm93XVtjb2xdID0gdGhpcy5jdXJyZW50UGxheWVyLnN5bWI7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdXaW5zKHJvdyxjb2wsdGhpcy5jdXJyZW50UGxheWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdldFBsYXllcnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5ld1dpbnMoeDpudW1iZXIseTpudW1iZXIsIHBsOlBsYXllcil7XG4gICAgICAgIGNvbnN0IHJvdyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYm9hcmRbeF1baV0gIT09IHBsLnN5bWIpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICByb3cucHVzaChgJHt4fSR7aX1gKTtcbiAgICAgICAgICAgIGlmIChpID09IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dXaW4ocm93KTtcbiAgICAgICAgICAgICAgICBwbC53aW5zICs9MTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjZWxsID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib2FyZFtpXVt5XSAhPT0gcGwuc3ltYilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNlbGwucHVzaChgJHtpfSR7eX1gKTtcbiAgICAgICAgICAgIGlmIChpID09IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dXaW4oY2VsbCk7XG4gICAgICAgICAgICAgICAgcGwud2lucyArPTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlhZ29uYWwgPSBbXTtcbiAgICAgICAgaWYgKHggPT0geSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2FyZFtpXVtpXSAhPT0gcGwuc3ltYilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGlhZ29uYWwucHVzaChgJHtpfSR7aX1gKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1dpbihkaWFnb25hbCk7XG4gICAgICAgICAgICAgICAgICAgIHBsLndpbnMgKz0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbnRpRGlhZ29uYWwgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkW2ldWzIgLSBpXSAhPT0gcGwuc3ltYilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGFudGlEaWFnb25hbC5wdXNoKGAke2l9JHsyLWl9YCk7XG4gICAgICAgICAgICBpZiAoaSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93V2luKGFudGlEaWFnb25hbCk7XG4gICAgICAgICAgICAgICAgcGwud2lucyArPTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RlcCA9PT0gOSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNob3dXaW4oZWxlbWVudHM6YW55KSB7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7aTwzO2krKyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlbGVtZW50c1tpXSk7XG4gICAgICAgICAgICBmb3IobGV0IGogPSAwO2o8OTtqKyspe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucGxhY2VzW2pdKTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnBsYWNlc1tqXS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSA9PSBlbGVtZW50c1tpXSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxhY2VzW2pdLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCd3aW4nKTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpPT50aGlzLnJlc2V0KCksMTAwMClcbiAgICB9XG4gICAgbGlzdGVuRXZlbnMoKXtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLHRoaXMuY291cnNlLmJpbmQodGhpcykpO1xuICAgIH1cblxufSIsImV4cG9ydCBjbGFzcyBQbGF5ZXIge1xuICAgIG5hbWU6c3RyaW5nO1xuICAgIHN5bWI6c3RyaW5nO1xuICAgIHdpbnM6bnVtYmVyO1xuICAgIG1vdGlvbjpib29sZWFuO1xuICAgIGNvbnRyb2xzOmFueTtcbiAgICBjb25zdHJ1Y3RvcihuYW1lOnN0cmluZyl7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMud2lucyA9IDA7XG4gICAgICAgIHRoaXMuc3ltYiA9IFwiXCIgO1xuICAgICAgICB0aGlzLm1vdGlvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbnRyb2xzID0gW107XG4gICAgfVxuICAgIHNldFN5bWJvbChzeW1iOnN0cmluZykge1xuICAgICAgICB0aGlzLnN5bWIgPSBzeW1iO1xuICAgIH1cbiAgICBzZXRDb25yb2xzKGxlZnQ6bnVtYmVyLHVwOm51bWJlcixyaWdodDpudW1iZXIsZG93bjpudW1iZXIsc2VsZWN0Om51bWJlcil7XG4gICAgICAgIHRoaXMuY29udHJvbHMgPSB7XG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgdXAsXG4gICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgIGRvd24sXG4gICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgfTtcbiAgICB9XG5cbn1cbiJdfQ=="}